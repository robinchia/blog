---
layout: post
title: "浅析无线网络数据窥探技术- FreebuF.COM"
categories: 安全
tags: 
 - 安全
 - 无线
--- 

# 浅析无线网络数据窥探技术- FreebuF.COM

* [首页](http://www.freebuf.com/)
* [资讯](http://www.freebuf.com/category/news)
* [工具](http://www.freebuf.com/category/tools)
* [文章](http://www.freebuf.com/category/articles)

* [WEB安全](http://www.freebuf.com/category/articles/web)
* [无线安全](http://www.freebuf.com/category/articles/wireless)
* [系统安全](http://www.freebuf.com/category/articles/system)
* [数据库安全](http://www.freebuf.com/category/articles/database)
* [终端安全](http://www.freebuf.com/category/articles/terminal)
* [其他](http://www.freebuf.com/category/articles/others-articles)
* [漏洞](http://www.freebuf.com/category/vuls)
* [招聘](http://www.freebuf.com/category/jobs)
* [周边](http://www.freebuf.com/category/others)
* [聚合](http://plant.freebuf.com/)
* [社区](http://club.freebuf.com/)
* ![]()[投稿](http://www.freebuf.com/newsend)

[登陆](http://www.freebuf.com/wp-login.php?redirect_to=http%3A%2F%2Fwww.freebuf.com%2Farticles%2Fwireless%2F5351.html "登陆")[注册](http://www.freebuf.com/wp-login.php?action=register)

[![freebuf]()](http://www.freebuf.com/)

[新浪微博](http://www.weibo.com/freebuf "收听新浪微博") [腾讯微博](http://t.qq.com/freebuf "收听腾讯微博")[订阅我们](http://www.freebuf.com/feed "订阅我们")

关于本文作者

![]()

[Crow](http://www.freebuf.com/author/crow "由 Crow 发布") ![]( "核心成员") 

这家伙很懒，还未填写个人简介

### 浅析无线网络数据窥探技术 ![]( "原创精品")

[](http://www.freebuf.com/articles/wireless/5351.html#)[Crow](http://www.freebuf.com/author/crow "由 Crow 发布") @ [无线安全](http://www.freebuf.com/category/articles/wireless "查看 无线安全 中的全部文章") 2012-08-14 共 **976** 人围观 

****Author:Crow********Site:http://www.freebuf.com **
**

**记得几年前,蓝牙一时兴起,当时在十几米的范围内,就可覆盖了很多个蓝牙接入点,那个时候还在上学,上课时无聊,就会找一些蓝牙接入点来恶作剧,后来蓝牙这个东西慢慢的在人们的眼中变得不重要,取而代之的是覆盖到各处的wi-fi网络,各处餐厅,地铁,公司,大街小巷随处可以搜索到不知道从何而来的wi-fi信号,而hacking wifi技术也犹然而生。**

这部分的技术大多来自国外翻译文章，技术出处大致相同，但是关于原理问题有些人并不了解，今天就和大家一起分享下hacking wi-fi技术。

Let’s go!!

无线网络可分为**广义无线网络**和**狭义无线网络**

广义无线网络包含了大家所熟知的wlan，wpan，wwan

wlan
无线局域网络(Wireless Local Area Networks；WLAN)是相当便利的数据传输系统，它利用射频(Radio Frequency；RF)的技术，取代旧式碍手碍脚的双绞铜线(Coaxial)所构成的局域网络，使得无线局域网络能利用简单的存取架构让用户透过它，达到「信息随身化、便利走天下」的理想境界。

wpan

无线个人局域网通讯技术（WPAN：Wireless Personal Area Network Communication Technologies）其中最典型且被大家熟知的技术包括:Bluetooth(蓝牙)，IrDa(红外)另外还包括ZigBee，UWB，HomeRF等，基于IEEE 802.15.(1-4)。

狭义无线网络既大家常用的IEEE 802.11标准的无线网络，关于802.11的标准及发展，大家可以再百度百科中查询。

**无线网络的工作原理**

无线网络至少要有一个无线接入点，即AP（Access Point）和一个client（无线客户端）组成，其中AP会将SSID由beacons(信号台)封装并广播，1Mbit/s的速率为1次/100ms。而无线clinet即为可接收这个SSID广播封包的设备，此处可由无线client来决定是否要与此AP发出的信号连接，所以可以选择任意的SSID进行连接。

记得上次，写了一个有关企业内网的文章，其中技术细节并不是很明确，所以今天可以给大家提供一个无线方面的思路，示意图如下：

[![20120813011346_15444]( "20120813011346_15444")]( "FreebuF.COM")

图画的不算太好，大家凑合着看吧

无线安全对于企业安全来说也是尤为重要的一处，现在大多数企业都会采用笔记本作为工作电脑，便携而且对于网络上的分配极为方便。

**利用**

对于无线上的入侵推荐使用BT5，或者自己使用ubuntu集成aircreak也好。
此处演示基于虚拟机BT5，及USB外置网卡
WEP方式加密现在已经很少了，就此略过，WPA的演示，可参见[http://www.freebuf.com/articles/5012.html](http://www.freebuf.com/articles/5012.html)

首先我们先来看下BT5下集成的无线工具，输入air，TAB键

![]()

可见aircreak系列的软件已经集成很多，这些足够我们在日常破解使用
Aircreak-ng既集成了破解功能，另外大家还可以使用cowpatty

![]( "3333")

OK，现在我们载入无线网卡，iwconfig

![]( "4444")

由于网卡类型及驱动的原因，外置载入网卡不一定就是wlan0，当然名字也可以自定义配置。
在使用之前，建议大家先update一下

Airodump-ng-oui-update

![]()

下面启动无线网卡

ifconfig ra0 up

激活无线网卡至monitor

airmon-ng start ra0

然后开始一系列的密码破解，由于之前thanks写过此类文章（[《Wifi Hacking](http://www.freebuf.com/articles/5012.html)[》](http://www.freebuf.com/articles/5012.html)），所以这里就不在写了

那么我们要做什么呢？

刚在前面的图中画了了一下AP欺骗的问题
那么下面我们就来抓取数据包，并加以分析

Airodump-ng –c 6 –w crowlog mon0

这里-c是选择接收频道，-w是保存截获数据包名称，后面是网卡

我们也可以对airodump-ng中所示的ssid进行抓包，我这里由于链接无线网的人很少，已经半夜了，所以就不演示了
等抓取了足够的无线网络数据后，就可以Ctrl+C停止了。接下来我们可以使用Cain或者Wireshark来查看数据包了

打开Cain，选择Creaker，点击左侧分类栏的802.11Captures。

![22222]( "22222")

右键空白处，Add to list

![]()

然后Decode开始解密

![]()

此处需要强调一下，破解数据包是需要在破解了无线密码的前提下才可以的

![]()

**下面输入无线密码即可开始破解**

解密完成后，会出现同文件名+dec.cap的文件，将此文件放入wireshark中打开，

然后我们就可以开始分析不过的无线数据破解后的报文啦！

由于我这边抓取来的数据只有几十K，半夜1点钟了，所以就不截图抓取的数据了，感兴趣的朋友可以自己试试。

其中的QQ,MSN,email，登陆用的账号密码都可以看到，这块就要看大家是否细心了。多看看数据包，里面或许有很多有用的东西，如杀毒软件版本，输入法版本等。

这里凡是公开了密码的免费上网区，都是很容易下手的，比如在某咖啡厅，或者某机场，看到有漂亮MM在用笔记本上QQ或者MSN，这个密码基本上都是可知的，不需要费力去破解，然而当知道了密码后，所有弥漫在空中的，看不见的无线信号，便都在自己的掌控之下。抓取他们，得到他们以后。所有的数据便都是自己的了。在或者在公司，密码可知，权限开放，那么无线网段的数据便全部在自己的掌控之中。然而，捕获无线数据的方法有很多种。如固定mac地址捕获数据

aireplay-ng -0 3 –a ap的mac地址–c client的mac地址ra0

deauth攻击模式，来将现有的（指定mac）的无线客户端强制断开，这样客户端就需要重新连接网络，这样我们就会抓到完整的wpa-psk握手验证的数据包了。

Aircrack-ng –w dic cap文件

可以用来破解抓取到的wpa-psk数据报文。

入侵是可以多种多样的，不必拘于一个教程，或者一个工具。

最后，无线网络正大面积覆盖着全世界，并走向各家各户，小到自建的无线基站，大到移动联通的CMCC和WLAN，使越来越多的人处于同一个局域网，而与大家同在一个局域网内的黑客们，便成为了隐秘在无线网络中窥探所有人的幽灵。

(YY一下，刚看完幽灵那个电视剧，穿帮镜头挺多的，引用下这两个字儿吧)

### ![]() **版权声明：转载请注明出自:** [FreebuF.COM](http://www.freebuf.com/)

* [赞: 3]()
* [踩: 0]()
您已评价！

  分享到： [新浪微博](http://v.t.sina.com.cn/share/share.php?url=http://www.freebuf.com/articles/wireless/5351.html&title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF "分享到新浪微博") [腾讯微博](http://v.t.qq.com/share/share.php?url=http://www.freebuf.com/articles/wireless/5351.html&title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF "分享到腾讯微博") [豆瓣]( "分享到豆瓣") [人人网](http://share.renren.com/share/buttonshare.do?link=http://www.freebuf.com/articles/wireless/5351.html&title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF "分享到人人网") [开心网](http://www.kaixin001.com/repaste/share.php?rtitle=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF&rurl=http://www.freebuf.com/articles/wireless/5351.html%20title=) [QZone](http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.freebuf.com/articles/wireless/5351.html&title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF "分享到QQ空间") [facebook](http://facebook.com/share.php?u=http://www.freebuf.com/articles/wireless/5351.html&title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF "分享到facebook") [twitter](http://twitter.com/share?url==http://www.freebuf.com/articles/wireless/5351.html&title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF "分享到twitter")
### 相关文章

* [浅析无线网络数据窥探技术]()

**9**条评论 **978**人已围观
* [渗透测试系统 – NETSECLOS V4.0发布](http://www.freebuf.com/tools/5335.html)

**8**条评论 **1608**人已围观
* [中间人攻击-DNS欺骗](http://www.freebuf.com/articles/system/5265.html)

**4**条评论 **1821**人已围观
* [攻击SharePoint](http://www.freebuf.com/articles/5108.html)

**5**条评论 **1198**人已围观
* [Skype源代码泄露（附下载地址）](http://www.freebuf.com/news/5002.html)

**16**条评论 **12707**人已围观
 ﻿

## 9 Comments [发表评论](http://www.freebuf.com/articles/wireless/5351.html#respond)

1. [![]()](http://www.freebuf.com/?author=4) [thanks ](http://www.freebuf.com/?author=4)![]( "核心成员") (6级) 手提酱油瓶从天而降 [](http://www.freebuf.com/articles/wireless/5351.html#comment-1916) 2012-08-14

nice！
[支持]()(2)[反对]() (0)
[回复](http://www.freebuf.com/articles/wireless/5351.html?replytocom=1916#respond)
1. [![]()](http://www.freebuf.com/?author=252) [Tobe ](http://www.freebuf.com/?author=252) (2级)  [](http://www.freebuf.com/articles/wireless/5351.html#comment-1917) 2012-08-14

请问一下，BT5我之前遇到的问题就是驱动，似乎虚拟机里很多时候会由于HOST主机的网卡驱动问题，导致无法抓到无线包，有实验过在PC/ Mac上安装虚拟机么？
[支持]()(0)[反对]() (0)
[回复](http://www.freebuf.com/articles/wireless/5351.html?replytocom=1917#respond)

* ![]() Coda [](http://www.freebuf.com/articles/wireless/5351.html#comment-1919) 2012-08-14

[@Tobe ](http://www.freebuf.com/articles/wireless/5351.html#comment-1917)pc/mac上虚拟机里装更麻烦了，需要外置无线网卡。
[支持]()(1)[反对]() (0)
[回复](http://www.freebuf.com/articles/wireless/5351.html?replytocom=1919#respond)

* [![]()](http://www.freebuf.com/?author=252) [Tobe ](http://www.freebuf.com/?author=252) (2级)  [](http://www.freebuf.com/articles/wireless/5351.html#comment-1922) 2012-08-14

[@Coda](http://www.freebuf.com/articles/wireless/5351.html#comment-1919) 比如什么类型的外置网卡，有推荐么？
[支持]()(0)[反对]() (0)
* ![]() sunshineg [](http://www.freebuf.com/articles/wireless/5351.html#comment-1925) 2012-08-14

[@Tobe](http://www.freebuf.com/articles/wireless/5351.html#comment-1919) 跑Pin还是8187L的卡。稳定连接用3070的卡。建议上无线城的卡，做工和质量绝非杂牌山寨可比拟。地址如下：
[http://www.wifly-city.com.tw/](http://www.wifly-city.com.tw/)

[支持]()(1)[反对]() (0)
* [![]()](http://www.freebuf.com/?author=131) [Crow ](http://www.freebuf.com/?author=131)![]( "核心成员") (5级)  [](http://www.freebuf.com/articles/wireless/5351.html#comment-1930) 2012-08-14

[@Coda](http://www.freebuf.com/articles/wireless/5351.html#comment-1919)@sunshineg 正解
一般都是用外置的usb无线网卡，我是双无线在做，一个8187，一个rt3072，可以说下，双网卡无线网卡的好处，当你在无线局域网内进行D.O.S攻击后，把另一张网卡加入白名单，然后做无线AP，名字与链接的网络名一样，被攻击人链接不上原有网络，就会来链接伪造的AP，这样的话所有数据都是通过自己的机器走的，想干什么，自己说了算。
[支持]()(3)[反对]() (0)
* [![]()](http://www.freebuf.com/?author=48) [zeracker ](http://www.freebuf.com/?author=48) (1级)  [](http://www.freebuf.com/articles/wireless/5351.html#comment-1918) 2012-08-14

够淫荡，期待超哥的户外渗透 ![:mrgreen:]()
[支持]()(1)[反对]() (0)
[回复](http://www.freebuf.com/articles/wireless/5351.html?replytocom=1918#respond)
* ![]() aaa [](http://www.freebuf.com/articles/wireless/5351.html#comment-1928) 2012-08-14

又是破解无线。。。。
[支持]()(0)[反对]() (0)
[回复](http://www.freebuf.com/articles/wireless/5351.html?replytocom=1928#respond)

* [![]()](http://www.freebuf.com/?author=131) [Crow ](http://www.freebuf.com/?author=131)![]( "核心成员") (5级)  [](http://www.freebuf.com/articles/wireless/5351.html#comment-1929) 2012-08-14

[@aaa](http://www.freebuf.com/articles/wireless/5351.html#comment-1928)破解无线中的加密数据
[支持]()(3)[反对]() (0)
[回复](http://www.freebuf.com/articles/wireless/5351.html?replytocom=1929#respond)
昵称
(必须)您当前尚未登录。[登陆](http://www.freebuf.com/wp-login.php?redirect_to=http%3A%2F%2Fwww.freebuf.com%2Farticles%2Fwireless%2F5351.html "登陆")？注册

邮箱
必须(保密)
网址

发表言论前，请滑动滚动条解锁
[表情]()[插代码]()[粗体]()[斜体]()[删除线]()[下划线]()[引用]()[链接]()[插图]()

[![]()]( "mrgreen")[![]()]( "razz")[![]()]( "sad")[![]()]( "smile")[![]()]( "oops")[![]()]( "grin")[![]()]( "eek")[![]()]( "???")[![]()]( "cool")[![]()]( "lol")[![]()]( "mad")[![]()]( "twisted")[![]()]( "roll")[![]()]( "wink")[![]()]( "idea")[![]()]( "arrow")[![]()]( "neutral")[![]()]( "cry")[![]()]( "?")[![]()]( "evil")[![]()]( "shock")[![]()]( "!")
正在提交, 请稍候...

#

[取消]()   有人回复时邮件通知我

### **热门评论****Hot Comments**

[Crow](http://www.freebuf.com/articles/wireless/5351.html#comment-1929) @ 2012-08-14 11:05:37

[@aaa](http://www.freebuf.com/articles/wireless/5351.html#comment-1928)破解无线中的加密数据
[支持]() (3) [反对]() (0) [Crow](http://www.freebuf.com/articles/wireless/5351.html#comment-1930) @ 2012-08-14 11:09:36

[@Coda](http://www.freebuf.com/articles/wireless/5351.html#comment-1919)@sunshineg 正解 一般都是用外置的usb无线网卡，我是双无线在做，一个8187，一个rt3072，可以说下，双网卡无线网卡的好处，当你在无线局域网内进行D.O.S攻击后，把另一张网卡加入白名单，然后做无线AP，名字与链接的网络名一样，被攻击人链接不上原有网络，就会来链接伪造的AP，这样的话所有数据都是通过自己的机器走的，想干什么，自己说了算。
[支持]() (3) [反对]() (0) [thanks](http://www.freebuf.com/articles/wireless/5351.html#comment-1916) @ 2012-08-14 09:44:29

nice！
[支持]() (2) [反对]() (0) [zeracker](http://www.freebuf.com/articles/wireless/5351.html#comment-1918) @ 2012-08-14 10:16:50

够淫荡，期待超哥的户外渗透 ![:mrgreen:]()
[支持]() (1) [反对]() (0) [Coda](http://www.freebuf.com/articles/wireless/5351.html#comment-1919) @ 2012-08-14 10:20:24

[@Tobe ](http://www.freebuf.com/articles/wireless/5351.html#comment-1917)pc/mac上虚拟机里装更麻烦了，需要外置无线网卡。
[支持]() (1) [反对]() (0) [sunshineg](http://www.freebuf.com/articles/wireless/5351.html#comment-1925) @ 2012-08-14 10:43:02

[@Tobe](http://www.freebuf.com/articles/wireless/5351.html#comment-1919) 跑Pin还是8187L的卡。稳定连接用3070的卡。建议上无线城的卡，做工和质量绝非杂牌山寨可比拟。地址如下： http://www.wifly-city.com.tw/
[支持]() (1) [反对]() (0)

### **最新发布****New Posts**

* [卡巴斯基寻民间牛人帮助破解高斯(Gauss)神秘Payload](http://www.freebuf.com/news/5378.html "卡巴斯基寻民间牛人帮助破解高斯(Gauss)神秘Payload")
* [盲注（Blind SQL Injection）工具—BBQSQL v1.0.0](http://www.freebuf.com/tools/5369.html "盲注（Blind SQL Injection）工具—BBQSQL v1.0.0")
* [计算机内存在关机后仍会泄露信息](http://www.freebuf.com/news/5364.html "计算机内存在关机后仍会泄露信息")
* [34款Firefox渗透测试插件](http://www.freebuf.com/tools/5361.html "34款Firefox渗透测试插件")
* [BackTrack5 R3发布](http://www.freebuf.com/tools/5363.html "BackTrack5 R3发布")
* [浅析无线网络数据窥探技术]( "浅析无线网络数据窥探技术")
* [性骚扰是黑客文化的一部分？](http://www.freebuf.com/news/5358.html "性骚扰是黑客文化的一部分？")
* [freebuf安全周刊8月6日-8月12日](http://www.freebuf.com/others/5357.html "freebuf安全周刊8月6日-8月12日")
* [一个“神奇”的工具：把 JavaScript 代码转为 ()[]{}!+ 字符](http://www.freebuf.com/tools/5352.html "一个“神奇”的工具：把 JavaScript 代码转为 ()[]{}!+ 字符")
* [POST/GET参数名称注射](http://www.freebuf.com/articles/web/5349.html "POST/GET参数名称注射")
All of the material and the informations available on freebuf. com is for informative purpose. freebuf.com declines all responsibilities from the damage that may be done of it, consequently it does not encourage who might use it for illegal purposes.

### FREEBUF.COM

[免责声明](http://www.freebuf.com/dis) [关于我们](http://www.freebuf.com/others/864.html) [建议反馈](mailto:freebuf@gmail.com) [联系我们](http://www.freebuf.com/contact) [我要投稿](http://www.freebuf.com/newsend)

Copyright @ 2012 WWW.FREEBUF.COM All Rights Reserved []()

FreebuF.COM

用户名

密码

Remember Me

[Register](http://www.freebuf.com/wp-login.php?action=register) | [Lost your password?](http://www.freebuf.com/wp-login.php?action=lostpassword "Password Lost and Found")
Register

用户名

邮箱

密码(至少6位)

验证码:
看不清？[点击更换]()

![看不清?点击更换]( "看不清?点击更换")

[登陆](http://www.freebuf.com/wp-login.php) | [忘记密码？](http://www.freebuf.com/wp-login.php?action=lostpassword "Password Lost and Found")
Reset Password

Username or E-mail:

[登陆](http://www.freebuf.com/wp-login.php)| [注册](http://www.freebuf.com/wp-login.php?action=register)
[](http://www.freebuf.com/articles/wireless/5351.html#prev "previous")[](http://www.freebuf.com/articles/wireless/5351.html#next "next")

prev
next
