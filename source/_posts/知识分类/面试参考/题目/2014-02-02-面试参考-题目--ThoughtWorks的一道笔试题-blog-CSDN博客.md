---
layout: post
title: "ThoughtWorks 的一道笔试题 - blog - CSDN博客"
categories: 面试参考
tags: 
 - 面试参考
 - 题目
--- 

# ThoughtWorks 的一道笔试题 - blog - CSDN博客

# [blog](http://blog.csdn.net/passos)

## 凡所有相，皆是虚妄，若见诸相非相，即见如来

* [条新通知](http://hi.csdn.net/space-notice.html)
* [登录](http://passport.csdn.net/UserLogin.aspx)
* [注册](http://passport.csdn.net/CSDNUserRegister.aspx)
* [欢迎](http://hi.csdn.net/)
* [退出](http://writeblog.csdn.net/Signout.aspx)
* [我的博客](http://blog.csdn.net/)
* [配置](http://writeblog.csdn.net/configure.aspx)
* [写文章](http://writeblog.csdn.net/PostEdit.aspx)
* [文章管理](http://writeblog.csdn.net/PostList.aspx)
* [博客首页](http://blog.csdn.net/)

*
* 全站 当前博客
*

* [空间](http://hi.csdn.net/passos)
* [博客](http://blog.csdn.net/passos)
* [好友](http://hi.csdn.net/!s/friend/list/passos)
* [相册](http://hi.csdn.net/!s/album/list/passos)
* [留言](http://hi.csdn.net/!s/wall/to/passos)

用户操作 [[留言]](http://hi.csdn.net/!s/wall/to/passos)  [[发消息]](http://hi.csdn.net/!s/msg/to/passos)  [[加为好友]](http://hi.csdn.net/!s/friend/add/passos) 订阅我的博客 [![XML聚合]()](http://feeds.feedsky.com/csdn.net/passos)   [![FeedSky]()](http://feeds.feedsky.com/csdn.net/passos) [![订阅到鲜果]()](http://www.xianguo.com/subscribe.php?url=http://feeds.feedsky.com/csdn.net/passos) [![订阅到Google]()](http://fusion.google.com/add?feedurl=http://feeds.feedsky.com/csdn.net/passos) [![订阅到抓虾]()](http://www.zhuaxia.com/add_channel.php?url=http://feeds.feedsky.com/csdn.net/passos)[[编辑]](http://writeblog.csdn.net/configure.aspx)passos的公告 [[编辑]](http://writeblog.csdn.net/EditCategories.aspx?catID=1)文章分类 * [![(RSS)]()](http://blog.csdn.net/passos/category/116495.aspx/rss)[01010101](http://blog.csdn.net/passos/category/116495.aspx)
* [![(RSS)]()](http://blog.csdn.net/passos/category/92359.aspx/rss)[C/Linux](http://blog.csdn.net/passos/category/92359.aspx)
* [![(RSS)]()](http://blog.csdn.net/passos/category/10192.aspx/rss)[Delphi](http://blog.csdn.net/passos/category/10192.aspx)
* [![(RSS)]()](http://blog.csdn.net/passos/category/51458.aspx/rss)[dotNet](http://blog.csdn.net/passos/category/51458.aspx)
* [![(RSS)]()](http://blog.csdn.net/passos/category/101586.aspx/rss)[人生](http://blog.csdn.net/passos/category/101586.aspx "人的价值在于什么？")
* [![(RSS)]()](http://blog.csdn.net/passos/category/107710.aspx/rss)[世事难料](http://blog.csdn.net/passos/category/107710.aspx)
* [![(RSS)]()](http://blog.csdn.net/passos/category/107711.aspx/rss)[形而上学](http://blog.csdn.net/passos/category/107711.aspx)
* [![(RSS)]()](http://blog.csdn.net/passos/category/412005.aspx/rss)[杂类语言](http://blog.csdn.net/passos/category/412005.aspx)存档 * [2009年12月(2)](http://blog.csdn.net/passos/archive/2009/12.aspx)
* [2009年11月(1)](http://blog.csdn.net/passos/archive/2009/11.aspx)
* [2009年07月(1)](http://blog.csdn.net/passos/archive/2009/07.aspx)
* [2009年05月(2)](http://blog.csdn.net/passos/archive/2009/05.aspx)
* [2009年02月(1)](http://blog.csdn.net/passos/archive/2009/02.aspx)
* [2008年12月(1)](http://blog.csdn.net/passos/archive/2008/12.aspx)
* [2008年10月(2)](http://blog.csdn.net/passos/archive/2008/10.aspx)
* [2008年06月(1)](http://blog.csdn.net/passos/archive/2008/06.aspx)
* [2008年04月(1)](http://blog.csdn.net/passos/archive/2008/04.aspx)
* [2006年04月(2)](http://blog.csdn.net/passos/archive/2006/04.aspx)
* [2005年07月(1)](http://blog.csdn.net/passos/archive/2005/07.aspx)
* [2005年05月(1)](http://blog.csdn.net/passos/archive/2005/05.aspx)
* [2005年04月(6)](http://blog.csdn.net/passos/archive/2005/04.aspx)
* [2005年03月(2)](http://blog.csdn.net/passos/archive/2005/03.aspx)
* [2004年10月(4)](http://blog.csdn.net/passos/archive/2004/10.aspx)
* [2001年09月(2)](http://blog.csdn.net/passos/archive/2001/09.aspx)
### 公告： [[意见反馈]](http://forum.csdn.net/SList/blogSupport)[[官方博客]](http://blog.csdn.net/blogdevteam)

# ![原创]()  ThoughtWorks 的一道笔试题 [收藏]( "收藏到我的网摘中，并分享给我的朋友")

PROBLEM ONE: TRAINS
Problem:  The local commuter railroad services a number of towns in Kiwiland.  Because of monetary concerns, all of the tracks are 'one-way.'  That is, a route from Kaitaia to Invercargill does not imply the existence of a route from Invercargill to Kaitaia.  In fact, even if both of these routes do happen to exist, they are distinct and are not necessarily the same distance!
The purpose of this problem is to help the railroad provide its customers with information about the routes.  In particular, you will compute the distance along a certain route, the number of different routes between two towns, and the shortest route between two towns.
Input:  A directed graph where a node represents a town and an edge represents a route between two towns.  The weighting of the edge represents the distance between the two towns.  A given route will never appear more than once, and for a given route, the starting and ending town will not be the same town.
Output: For test input 1 through 5, if no such route exists, output 'NO SUCH ROUTE'.  Otherwise, follow the route as given; do not make any extra stops!  For example, the first problem means to start at city A, then travel directly to city B (a distance of 5), then directly to city C (a distance of 4).
1. The distance of the route A-B-C.
2. The distance of the route A-D.
3. The distance of the route A-D-C.
4. The distance of the route A-E-B-C-D.
5. The distance of the route A-E-D.
6. The number of trips starting at C and ending at C with a maximum of 3 stops.  In the sample data below, there are two such trips: C-D-C (2 stops). and C-E-B-C (3 stops).
7. The number of trips starting at A and ending at C with exactly 4 stops.  In the sample data below, there are three such trips: A to C (via B,C,D); A to C (via D,C,D); and A to C (via D,E,B).
8. The length of the shortest route (in terms of distance to travel) from A to C.
9. The length of the shortest route (in terms of distance to travel) from B to B.
10. The number of different routes from C to C with a distance of less than 30.  In the sample data, the trips are: CDC, CEBC, CEBCDC, CDCEBC, CDEBC, CEBCEBC, CEBCEBCEBC.
Test Input:
For the test input, the towns are named using the first few letters of the alphabet from A to D.  A route between two towns (A to B) with a distance of 5 is represented as AB5.
Graph: AB5, BC4, CD8, DC8, DE6, AD5, CE2, EB3, AE7
Expected Output:
Output #1: 9
Output #2: 5
Output #3: 13
Output #4: 22
Output #5: NO SUCH ROUTE
Output #6: 2
Output #7: 3
Output #8: 9
Output #9: 9
Output #10: 7
==========

简单来说，就是一个图的搜索问题。用数组来表示图，简化之后大致的解决方案都差不多。

 

6:
1. public class Graphmain {
1.
1.     public int[][] map = { 
1.             {-1, 5, -1, 5, 7}, 
1.             {-1, -1, 4, -1, -1},
1.             {-1, -1, -1, 8, 2},
1.             {-1, -1, 8, -1, 6},
1.             {-1, 3, -1, -1, -1},
1.     };
1.     
1.     public void dfs(String end, String path, int maxLength)
1.     {
1.         if (path.length() - 1 > maxLength) return;
1.         
1.         if ( path.length() > 1 && path.endsWith(end) ) {
1.             System.out.println(path + ", " + path.length());
1.         }
1.         
1.         char lastChar = path.charAt(path.length()-1);
1.         int lastNodeIndex = lastChar - 'A';
1.         
1.         for ( int i=0; i<map[lastNodeIndex].length; i++ )
1.         {
1.             char newChar = (char)(i + 'A');
1.             if ( map[lastNodeIndex][i] > 0) {
1.                 dfs(end, path + newChar, maxLength);
1.             }
1.         }
1.     }
1.     
1.     public static void main(String[] args) {
1.         Graphmain g = new Graphmain();
1.         
1.         g.dfs("C", "C", 3);
1.     }
1. }
1.

7:

1. public class Graphmain {
1.
1.     public int[][] map = { 
1.             { -1, 5, -1, 5, 7 }, 
1.             { -1, -1, 4, -1, -1 },
1.             { -1, -1, -1, 8, 2 }, 
1.             { -1, -1, 8, -1, 6 }, 
1.             { -1, 3, -1, -1, -1 }
1.     };
1.
1.     public void bfs(String start, String end, int hops) {
1.         String lastRoute = start;
1.
1.         for (int hop = 0; hop < hops; hop++) {
1.             String route = "";
1.             for (int i = 0; i < lastRoute.length(); i++) {
1.                 char c = lastRoute.charAt(i);
1.                 int id = c - 'A';
1.
1.                 for (int j = 0; j < map[id].length; j++) {
1.                     if (map[id][j] > 0)
1.                         route = route + (char) (j + 'A');
1.                 }
1.             }
1. //          System.out.println(lastRoute);
1.             lastRoute = route;
1.         }
1.
1. //      System.out.println(lastRoute);
1.         System.out.println(lastRoute.split(end).length - 1);
1.     }
1.
1.     public static void main(String[] args) {
1.         Graphmain g = new Graphmain();
1.
1.         g.bfs("A", "C", 4);
1.     }
1. }
1.

8/9:

1. public class Graphmain {
1.
1.     public int[][] map = { 
1.             {-1, 5, -1, 5, 7}, 
1.             {-1, -1, 4, -1, -1},
1.             {-1, -1, -1, 8, 2},
1.             {-1, -1, 8, -1, 6},
1.             {-1, 3, -1, -1, -1},
1.     };
1.     
1.     public void dfs(String end, String path, int cost) {
1.         if (path.endsWith(end) && cost < bestCost && cost > 0) {
1.             bestPath = path;
1.             bestCost = cost;
1.             return;
1.         }
1.         char lastChar = path.charAt(path.length() - 1);
1.         int lastNodeIndex = lastChar - 'A';
1.
1.         for (int i = 0; i < map[lastNodeIndex].length; i++) {
1.             char newChar = (char) (i + 'A');
1.             int newCost = map[lastNodeIndex][i];
1.             if (newCost > 0) {
1.                 if (path.indexOf(newChar) > 0)
1.                     continue;
1.                 dfs(end, path + newChar, cost + newCost);
1.             }
1.         }
1.     }
1.
1.     public String bestPath = "";
1.     public int bestCost = Integer.MAX_VALUE;
1.
1.     public static void main(String[] args) {
1.         Graphmain g = new Graphmain();
1.
1.         g.dfs("C", "A", 0); // 8 
1. //      g.dfs("B", "B", 0); // 9
1.
1.         System.out.println("Best Path: " + g.bestPath + "\nCost: " + g.bestCost);
1.     }
1. }
1.

10:

1. public class Graphmain {
1.
1.     public int[][] map = { 
1.             {-1, 5, -1, 5, 7}, 
1.             {-1, -1, 4, -1, -1},
1.             {-1, -1, -1, 8, 2},
1.             {-1, -1, 8, -1, 6},
1.             {-1, 3, -1, -1, -1},
1.     };
1.     
1.     public void dfs(String end, String path, int cost) {
1.         if (cost >= 30)
1.             return;
1.
1.         if (cost > 0 && path.endsWith(end)) {
1.             System.out.println(path + ", " + cost);
1.         }
1.
1.         char lastChar = path.charAt(path.length() - 1);
1.         int lastNodeIndex = lastChar - 'A';
1.
1.         for (int i = 0; i < map[lastNodeIndex].length; i++) {
1.             char newChar = (char) (i + 'A');
1.             int newCost = map[lastNodeIndex][i];
1.             if (newCost > 0) {
1.                 dfs(end, path + newChar, cost + newCost);
1.             }
1.         }
1.     }
1.
1.     public static void main(String[] args) {
1.         Graphmain g = new Graphmain();
1.
1.         g.dfs("C", "C", 0);
1.     }
1. }
1.

 

 

 

 

 

 

 

 

发表于 @ 2008年12月11日　15:30:00 | [评论( loading...  )](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#FeedBack "评论")| [编辑](http://writeblog.csdn.net/PostEdit.aspx?entryId=3498521 "编辑")| [举报](mailto:webmaster@csdn.net?subject=Article Report!!!&body=Author:passosURL:http://blog.csdn.net/ArticleContent.aspx?UserName=passos&Entryid=3498521)| [收藏]( "收藏到我的网摘中，并分享给我的朋友")

### [旧一篇:Android源码构建工具速览（二）—— 清单文件](http://blog.csdn.net/passos/archive/2008/10/25/3143095.aspx) | [新一篇:为什么cpio要比tar好](http://blog.csdn.net/passos/archive/2009/02/10/3872534.aspx)

[查看最新精华文章 请访问博客首页](http://blog.csdn.net/)相关文章[]()

* 发表评论
 
* 表 情：
* [![顶]( "顶")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![砸]( "砸")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![棒]( "棒")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![大笑]( "大笑")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![愤怒]( "愤怒")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![大哭]( "大哭")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![疑问]( "疑问")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![汗]( "汗")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![呕吐]( "呕吐")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#) [![送花]( "送花")](http://blog.csdn.net/passos/archive/2008/12/11/3498521.aspx#)

* 评论内容：
*
* 用 户 名：
* [登录]() [注册](http://passport.csdn.net/CSDNUserRegister.aspx) 匿名评论

* 验 证 码：
* [![验证码]()]() [重新获得验证码]()

*
*
 
### 热门招聘职位![]()
