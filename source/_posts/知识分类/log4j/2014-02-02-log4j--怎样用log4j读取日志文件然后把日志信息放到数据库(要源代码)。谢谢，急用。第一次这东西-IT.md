---
layout: post
title: "怎样用log4j读取日志文件然后把日志信息放到数据库(要源代码)。谢谢，急用。第一次这东西 - IT"
categories: log4j
tags: 
 - log4j
--- 

# 怎样用log4j读取日志文件然后把日志信息放到数据库(要源代码)。谢谢，急用。第一次这东西 - ITeye问答

[您还未登录 !](http://www.iteye.com/login "登录") [我的应用](http://www.iteye.com/all) [登录](http://www.iteye.com/login) [注册](http://www.iteye.com/signup)

[![ITeye3.0]( "ITeye-最棒的软件开发交流社区")](http://www.iteye.com/)

[![]()](http://www.iteye.com/clicks/531)

[问答首页](http://www.iteye.com/ask) → [入门讨论](http://www.iteye.com/problems/tags/New) → [入门技术](http://www.iteye.com/problems/tags/Newbie)

### [怎样用log4j读取日志文件然后把日志信息放到数据库(要源代码)。谢谢，急用。第一次这东西]()

### 悬赏：15 发布时间：2011-05-03 提问人：[Andy烦烦](http://zf69850-163-com.iteye.com/) (初级程序员)

log4j.rootLogger=DEBUG,CONSOLE,ROLLING_FILE
DEBUG,CONSOLE,FILE,ROLLING_FILE,MAIL,DATABASE
log4j.addivity.org.apache=true
###################
# Console Appender
###################
log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender
log4j.logger.org.hibernate.SQL=DEBUG
log4j.appender.Threshold=DEBUG
log4j.appender.CONSOLE.Target=System.out
log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout
log4j.appender.CONSOLE.layout.ConversionPattern=[tklmobileplatform] %d - %c -%-4r [%t] %-5p %c %x - %m%n
log4j.appender.CONSOLE.layout.ConversionPattern=[start]%d{DATE}[DATE]%n%p[PRIORITY]%n%x[NDC]%n%t[THREAD] n%c[CATEGORY]%n%m[MESSAGE]%n%n
#####################
# File Appender
#####################
#log4j.appender.FILE=org.apache.log4j.FileAppender
#log4j.appender.FILE.File=file.log
#log4j.appender.FILE.Append=false
#log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
#log4j.appender.FILE.layout.ConversionPattern=[lian] %d - %c -%-4r [%t] %-5p %c %x - %m%n
# Use this layout for LogFactor 5 analysis
########################
# Rolling File
########################
log4j.appender.ROLLING_FILE=org.apache.log4j.RollingFileAppender
log4j.appender.ROLLING_FILE.Threshold=DEBUG
log4j.appender.ROLLING_FILE.File=${webapp.root}/tklmobileplatform.log
log4j.appender.ROLLING_FILE.Append=true
log4j.appender.ROLLING_FILE.MaxFileSize=1000KB
log4j.appender.ROLLING_FILE.MaxBackupIndex=1
log4j.appender.ROLLING_FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.ROLLING_FILE.layout.ConversionPattern=[ejunnet] %d - %c -%-4r [%t] %-5p %c %x - %m%n
########################
# JDBC Appender
#######################
log4j.appender.DATABASE=org.apache.log4j.jdbc.JDBCAppender
log4j.appender.DATABASE.URL=jdbc:mysql://localhost:3306/tklpf_db
log4j.appender.DATABASE.driver=com.mysql.jdbc.Driver
log4j.appender.DATABASE.user=root
log4j.appender.DATABASE.password=root
log4j.appender.DATABASE.Threshold=DEBUG
log4j.appender.DATABASE.sql=log4j.appender.DATABASE.sql=INSERT INTO log(optime,thread,infolevel,class,message) VALUES ('%d', '%t', '%p', '%l', '%m')
log4j.appender.DATABASE.layout=org.apache.log4j.PatternLayout
log4j.appender.DATABASE.layout.ConversionPattern=[framework] %d - %c -%-4r [%t] %-5p %c %x - %m%n
log4j.appender.A1=org.apache.log4j.DailyRollingFileAppender
log4j.appender.A1.File=SampleMessages.log4j
log4j.appender.A1.DatePattern=yyyyMMdd-HH'.log4j'
log4j.appender.A1.layout=org.apache.log4j.xml.XMLLayout
------------------------------------------------------------------------------------------------------------------
**问题补充：**
我们项目中要一些系统日志，错误日志等等。我知道这是一些大量的垃圾数据，但是现在经理要我们这样做啊。我才接触log4j，所以给写源代码。谢谢......
### 采纳的答案

### 2011-05-04 [shadabing](http://shadabing.iteye.com/) (高级程序员)

http://blog.csdn.net/ziruobing/archive/2009/02/22/3919501.aspx
看看这篇，你就会了  **提问者对于答案的评价：**
谢谢！虽然现在没用到，还是谢谢你的帮助

### 问题答案可能在这里 → [寻找更多解答](http://www.iteye.com/wiki/problem/64446)

* [比较有用的log4j.properties](http://www.iteye.com/topic/207462)
* [从common-logging谈log4j](http://www.iteye.com/topic/359738)
* [log4j不同级别日志分不同文件记录](http://www.iteye.com/topic/744693)
* [log4j 的相关问题！](http://www.iteye.com/problems/63274)
* [log4j中如何屏蔽rootlogger的配置](http://www.iteye.com/problems/58636)
### 其他回答

你把日志文件读到数据库中有什么用，显示在控制台上不行吗。

[wenchenyangailiuyan](http://wenchenyangailiuyan.iteye.com/) (中级程序员) 2011-05-04

哦，我只知道把log4j配置到控制台上然后查看信息，那样也很方便，不过帮顶了等待高手。

[wenchenyangailiuyan](http://wenchenyangailiuyan.iteye.com/) (中级程序员) 2011-05-04
看看这个：
http://hi.baidu.com/%D1%A6%B9%A6%CF%B2/blog/item/2ef1d53f304a163571cf6c50.html

[iihero](http://iihero.iteye.com/) (资深程序员) 2011-05-08

[待解决问题数:](http://www.iteye.com/problems/active?sort=created_at+desc) 585
[已解决问题数:](http://www.iteye.com/problems/solved) 17818
[已关闭问题数:](http://www.iteye.com/problems/closed) 43501

[![Ask]()](http://www.iteye.com/problems/new "我要提问") [![Myask]()](http://www.iteye.com/problems/my "我的问答")
### 问答分类

### [Java编程和Java企业应用](http://www.iteye.com/problems/tags/Java)

[Java综合](http://www.iteye.com/problems/tags/Java) [企业应用](http://www.iteye.com/problems/tags/J2EE) [Struts](http://www.iteye.com/problems/tags/Struts) [Hibernate](http://www.iteye.com/problems/tags/Hibernate) [Spring](http://www.iteye.com/problems/tags/Spring) [Tomcat](http://www.iteye.com/problems/tags/Tomcat) [OO](http://www.iteye.com/problems/tags/OO) [Swing](http://www.iteye.com/problems/tags/Swing) [JBoss](http://www.iteye.com/problems/tags/JBoss) [设计模式](http://www.iteye.com/problems/tags/Design-Pattern) [SOA](http://www.iteye.com/problems/tags/SOA) [iBATIS](http://www.iteye.com/problems/tags/iBATIS) [DAO](http://www.iteye.com/problems/tags/DAO) [领域模型](http://www.iteye.com/problems/tags/Object-Domain)

### [Web前端技术](http://www.iteye.com/problems/tags/web)

[EXT](http://www.iteye.com/problems/tags/EXT) [JavaScript](http://www.iteye.com/problems/tags/JavaScript) [Web综合](http://www.iteye.com/problems/tags/Web) [JQuery](http://www.iteye.com/problems/tags/JQuery) [AJAX](http://www.iteye.com/problems/tags/ajax) [DWR](http://www.iteye.com/problems/tags/DWR) [CSS](http://www.iteye.com/problems/tags/CSS) [GWT](http://www.iteye.com/problems/tags/GWT) [UI](http://www.iteye.com/problems/tags/UI) [dojo](http://www.iteye.com/problems/tags/dojo) [prototype](http://www.iteye.com/problems/tags/prototype) [JavaFX](http://www.iteye.com/problems/tags/JavaFX) [YUI](http://www.iteye.com/problems/tags/YUI)

### [移动编程和手机应用开发](http://www.iteye.com/problems/tags/mobile)

[Android](http://www.iteye.com/problems/tags/Android) [J2ME](http://www.iteye.com/problems/tags/J2ME) [iPhone](http://www.iteye.com/problems/tags/iPhone) [WAP](http://www.iteye.com/problems/tags/WAP) [移动综合](http://www.iteye.com/problems/tags/mobile) [Symbian](http://www.iteye.com/problems/tags/symbian) [BlackBerry](http://www.iteye.com/problems/tags/BlackBerry) [Maemo](http://www.iteye.com/problems/tags/Maemo)

### [C/C++编程](http://www.iteye.com/problems/tags/cpp)

[C++](http://www.iteye.com/problems/tags/CPP) [C](http://www.iteye.com/problems/tags/C) [D语言](http://www.iteye.com/problems/tags/DLang)

### [Ruby编程](http://www.iteye.com/problems/tags/Ruby)

[rails](http://www.iteye.com/problems/tags/rails) [ruby](http://www.iteye.com/problems/tags/ruby)

### [Python编程](http://www.iteye.com/problems/tags/Python)

[python](http://www.iteye.com/problems/tags/python) [django](http://www.iteye.com/problems/tags/django) [GAE](http://www.iteye.com/problems/tags/GAE)

### [PHP编程](http://www.iteye.com/problems/tags/PHP)

[PHP](http://www.iteye.com/problems/tags/PHP)

### [Flash编程和RIA](http://www.iteye.com/problems/tags/Flash)

[Flex](http://www.iteye.com/problems/tags/Flex) [Flash](http://www.iteye.com/problems/tags/Flash) [ActionScript](http://www.iteye.com/problems/tags/ActionScript) [AIR](http://www.iteye.com/problems/tags/AIR)

### [Microsoft .Net](http://www.iteye.com/problems/tags/dotnet)

[C#](http://www.iteye.com/problems/tags/CC) [.net](http://www.iteye.com/problems/tags/DotNET) [ASP.net](http://www.iteye.com/problems/tags/ASP) [Windows](http://www.iteye.com/problems/tags/Windows) [Windows Mobile](http://www.iteye.com/problems/tags/WindowsMobile) [SilverLight](http://www.iteye.com/problems/tags/silverlight) [WPF](http://www.iteye.com/problems/tags/WPF)

### [综合技术](http://www.iteye.com/problems/tags/Tech)

[Database](http://www.iteye.com/problems/tags/Database) [oracle](http://www.iteye.com/problems/tags/OracleDB) [Linux](http://www.iteye.com/problems/tags/Linux) [编程综合](http://www.iteye.com/problems/tags/Technology) [数据结构和算法](http://www.iteye.com/problems/tags/algorithm) [mysql](http://www.iteye.com/problems/tags/mysql) [SQLServer](http://www.iteye.com/problems/tags/SQLServer) [Erlang](http://www.iteye.com/problems/tags/Erlang) [DB2](http://www.iteye.com/problems/tags/DB2) [OS](http://www.iteye.com/problems/tags/OS) [Unix](http://www.iteye.com/problems/tags/Unix) [FP](http://www.iteye.com/problems/tags/FP) [MacOSX](http://www.iteye.com/problems/tags/MacOSX) [PostgreSQL](http://www.iteye.com/problems/tags/PostgreSQL) [Haskell](http://www.iteye.com/problems/tags/Haskell)

### [入门讨论](http://www.iteye.com/problems/tags/New)

[入门技术](http://www.iteye.com/problems/tags/Newbie) [IT厂商](http://www.iteye.com/problems/tags/vendor)

### [软件开发和项目管理](http://www.iteye.com/problems/tags/develop)

[项目管理](http://www.iteye.com/problems/tags/project-manage) [配置管理](http://www.iteye.com/problems/tags/configuration) [软件测试](http://www.iteye.com/problems/tags/test) [敏捷开发](http://www.iteye.com/problems/tags/agile) [UML](http://www.iteye.com/problems/tags/UML) [单元测试](http://www.iteye.com/problems/tags/unitest) [TDD](http://www.iteye.com/problems/tags/TDD) [UseCase](http://www.iteye.com/problems/tags/UseCase) [CMM](http://www.iteye.com/problems/tags/CMM) [XP](http://www.iteye.com/problems/tags/XP) [UP](http://www.iteye.com/problems/tags/UP)

### [行业应用](http://www.iteye.com/problems/tags/Industry)

[互联网](http://www.iteye.com/problems/tags/Internet) [电信](http://www.iteye.com/problems/tags/Telecom) [网络应用](http://www.iteye.com/problems/tags/networkapp) [咨询](http://www.iteye.com/problems/tags/Consulting) [金融](http://www.iteye.com/problems/tags/Industry-Finance) [电子政务](http://www.iteye.com/problems/tags/E-government) [搜索引擎](http://www.iteye.com/problems/tags/searchengine) [教育](http://www.iteye.com/problems/tags/Education) [物流](http://www.iteye.com/problems/tags/Logistics) [制造](http://www.iteye.com/problems/tags/Manufacturing) [嵌入式](http://www.iteye.com/problems/tags/Embedded) [SAAS](http://www.iteye.com/problems/tags/SAAS) [浏览器](http://www.iteye.com/problems/tags/browser) [医疗](http://www.iteye.com/problems/tags/Medicine) [网游](http://www.iteye.com/problems/tags/NetGame) [交通](http://www.iteye.com/problems/tags/Traffic)

### [招聘求职](http://www.iteye.com/problems/tags/Job)

[职场话题](http://www.iteye.com/problems/tags/career) [求职经验](http://www.iteye.com/problems/tags/findjob) [企业点评](http://www.iteye.com/problems/tags/company) [招聘职位](http://www.iteye.com/problems/tags/list_jobs) [面试秘籍](http://www.iteye.com/problems/tags/interview)

### [海阔天空](http://www.iteye.com/problems/tags/Life)

[工作](http://www.iteye.com/problems/tags/Working) [生活](http://www.iteye.com/problems/tags/Lifes) [JavaEye](http://www.iteye.com/problems/tags/JavaEye) [IT八卦](http://www.iteye.com/problems/tags/IT-News) [公告](http://www.iteye.com/problems/tags/SystemNotice) [读书](http://www.iteye.com/problems/tags/Reading) [IT资讯](http://www.iteye.com/problems/tags/LifeNews) [情感](http://www.iteye.com/problems/tags/Loves) [大众软件](http://www.iteye.com/problems/tags/software) [大众硬件](http://www.iteye.com/problems/tags/hardware) [游戏](http://www.iteye.com/problems/tags/Games) [申诉](http://www.iteye.com/problems/tags/Appeal) [笑话](http://www.iteye.com/problems/tags/Joke) [理财](http://www.iteye.com/problems/tags/Finance) [活动](http://www.iteye.com/problems/tags/Events) [影视](http://www.iteye.com/problems/tags/Movie) [体育](http://www.iteye.com/problems/tags/Sports) [旅游](http://www.iteye.com/problems/tags/Travel) [音乐](http://www.iteye.com/problems/tags/Music)

### 答题高手

* [lovewhzlq](http://lovewhzlq.iteye.com/) CTO ( [1252](http://lovewhzlq.iteye.com/blog/solution) - 13930 )
* [yourgame](http://yourgame.iteye.com/) CTO ( [570](http://yourgame.iteye.com/blog/solution) - 5183 )
* [蔡华江](http://huajiang.iteye.com/) 资深架构师 ( [322](http://huajiang.iteye.com/blog/solution) - 3388 )
* [xiaolongfeixiang](http://xiaolongfeixiang.iteye.com/) 资深架构师 ( [301](http://xiaolongfeixiang.iteye.com/blog/solution) - 2994 )
* [atian25](http://atian25.iteye.com/) 架构师 ( [252](http://atian25.iteye.com/blog/solution) - 2324 )
* [Anddy](http://hyvi.iteye.com/) 架构师 ( [193](http://hyvi.iteye.com/blog/solution) - 2155 )
* [lizhi92574](http://lizhi92574.iteye.com/) 架构师 ( [192](http://lizhi92574.iteye.com/blog/solution) - 2061 )
* [7454103](http://7454103.iteye.com/) 架构师 ( [183](http://7454103.iteye.com/blog/solution) - 2369 )
* [RednaxelaFX](http://rednaxelafx.iteye.com/) 架构师 ( [183](http://rednaxelafx.iteye.com/blog/solution) - 1864 )
* [playfish](http://playfish.iteye.com/) 架构师 ( [176](http://playfish.iteye.com/blog/solution) - 1846 )
[查看全部排名>>](http://www.iteye.com/problems/top_users)
### 问题频道帮助

* [提问的智慧](http://www.iteye.com/wiki/JavaEye/91-AskSmart)
* [如何获得积分及等级说明](http://www.iteye.com/wiki/JavaEye/101-AskScore)
* [如何关闭问题](http://www.iteye.com/wiki/JavaEye/92-AskClose)
* [![Rss]()](http://www.iteye.com/rss/ask "关注新问题")
* [首页](http://www.iteye.com/)
* [资讯](http://www.iteye.com/news)
* [论坛](http://www.iteye.com/forums)
* [问答](http://www.iteye.com/ask)
* [博客](http://www.iteye.com/blogs)
* [群组](http://www.iteye.com/groups)
* [招聘](http://www.iteye.com/job)
* [搜索](http://www.iteye.com/search)
* [广告服务](http://www.iteye.com/index/service)
* [ITeye黑板报](http://webmaster.iteye.com/)
* [联系我们](http://www.iteye.com/index/contactus)
* [友情链接](http://www.iteye.com/index/friend_links)

© 2003-2011 ITeye.com. [ [京ICP证110151号](http://www.miibeian.gov.cn/) ] ![]()
