---
layout: post
title: "弹窗检测使用百度搜索代码"
categories: JS用法
tags: 
 - JS用法
 - Jquery
--- 

# 弹窗检测使用百度搜索代码

### 弹窗代码        大家问我那个弹窗是怎么做的，很简单的，可以看看coolshell.cn的源代码。就是从referrer中匹配baidu。我用了jquery的一个插件：[bPopup](http://dinbror.dk/bpopup/)，关于那个no baidu插图来自：[豆瓣的拒绝百度的兴趣小组](http://www.douban.com/online/10132155/)。        源码如下：**[@Ninja_Lu](http://weibo.com/n/Ninja_Lu) 做了一个github的：[https://github.com/lurongkai/anti-baidu](https://github.com/lurongkai/anti-baidu)**

<

script

src

=

"[http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js)"

></

script

>
<

script

src

=

"[http://coolshell.cn/wp-content/themes/inove/js/jquery.bpopup-0.8.0.min.js](http://coolshell.cn/wp-content/themes/inove/js/jquery.bpopup-0.8.0.min.js)"

></

script

>

 
<

script

type

=

"text/javascript"

>

;(function($) {
    

$(function() {

        

var url=document.referrer;
        

if ( url && url.search("[http://](http:)")>-1) {

            

var refurl =  url.match(/:\/\/(.[^/]+)/)[1];
            

if(refurl.indexOf("baidu.com")>-1){

                

$('#nobaidu_dlg').bPopup();
            

}

        

}
    

});

 
})(jQuery);

</

script

>
 

<

div

id

=

"nobaidu_dlg"

style

=

"background-color:#fff; border-radius:15px;color:#000;display:none;padding:20px;min-width:450px;min-height:180px;"

>
    

<

img

src

=

"[http://coolshell.cn/wp-content/themes/inove/img/nobaidu.jpg](http://coolshell.cn/wp-content/themes/inove/img/nobaidu.jpg)"

align

=

"left"

>

     

<

p

style

=

"margin-left:200px;margin-top: 20px; line-height: 30px;"

>
     

检测到你还在使用百度这个搜索引擎，<

br

/>

     

做为一个程序员，这是一种自暴自弃！<

br

/>
     

<

br

/>

     

</

p

>
     

<

p

align

=

"center"

style

=

"margin-top:20px;"

>

     

<

b

><

a

href

=

"[http://coolshell.cn/articles/7186.html](http://coolshell.cn/articles/7186.html)"

>作环保的程序员，从不用百度开始！</

a

></

b

>
     

</

p

>

</

div

>        来源： <[http://coolshell.cn/articles/9308.html](http://coolshell.cn/articles/9308.html)>     
